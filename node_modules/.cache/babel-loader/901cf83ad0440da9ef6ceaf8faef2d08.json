{"remainingRequest":"/mnt/DOCUMENTS/DEV/aframe-dev/node_modules/babel-loader/lib/index.js!/mnt/DOCUMENTS/DEV/aframe-dev/node_modules/eslint-loader/index.js??ref--13-0!/mnt/DOCUMENTS/DEV/aframe-dev/src/aframe_components/audio_components.js","dependencies":[{"path":"/mnt/DOCUMENTS/DEV/aframe-dev/src/aframe_components/audio_components.js","mtime":1622730088942},{"path":"/mnt/DOCUMENTS/DEV/aframe-dev/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/mnt/DOCUMENTS/DEV/aframe-dev/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/mnt/DOCUMENTS/DEV/aframe-dev/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9tbnQvRE9DVU1FTlRTL0RFVi9hZnJhbWUtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvbW50L0RPQ1VNRU5UUy9ERVYvYWZyYW1lLWRldi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9tbnQvRE9DVU1FTlRTL0RFVi9hZnJhbWUtZGV2L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiL21udC9ET0NVTUVOVFMvREVWL2FmcmFtZS1kZXYvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2luaGVyaXRzIjsKaW1wb3J0IF9jcmVhdGVTdXBlciBmcm9tICIvbW50L0RPQ1VNRU5UUy9ERVYvYWZyYW1lLWRldi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlU3VwZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmxvYXQzMi1hcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXguanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmcuanMiOwppbXBvcnQgQUZSQU1FIGZyb20gImFmcmFtZSI7CnZhciBUSFJFRSA9IEFGUkFNRS5USFJFRTsKCnZhciBQb3NpdGlvbmFsQXVkaW9IZWxwZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9USFJFRSRMaW5lKSB7CiAgX2luaGVyaXRzKFBvc2l0aW9uYWxBdWRpb0hlbHBlciwgX1RIUkVFJExpbmUpOwoKICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKFBvc2l0aW9uYWxBdWRpb0hlbHBlcik7CgogIGZ1bmN0aW9uIFBvc2l0aW9uYWxBdWRpb0hlbHBlcihhdWRpbykgewogICAgdmFyIF90aGlzOwoKICAgIHZhciByYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTsKICAgIHZhciBkaXZpc2lvbnNJbm5lckFuZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAxNjsKICAgIHZhciBkaXZpc2lvbnNPdXRlckFuZ2xlID0gYXJndW1lbnRzLmxlbmd0aCA+IDMgJiYgYXJndW1lbnRzWzNdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbM10gOiAyOwogICAgdmFyIGNvbG9ySW4gPSBhcmd1bWVudHMubGVuZ3RoID4gNCAmJiBhcmd1bWVudHNbNF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1s0XSA6IDB4MDBmZjAwOwogICAgdmFyIGNvbG9yT3V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDUgJiYgYXJndW1lbnRzWzVdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNV0gOiAweGZmZmYwMDsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUG9zaXRpb25hbEF1ZGlvSGVscGVyKTsKCiAgICB2YXIgZ2VvbWV0cnkgPSBuZXcgVEhSRUUuQnVmZmVyR2VvbWV0cnkoKTsKICAgIHZhciBkaXZpc2lvbnMgPSBkaXZpc2lvbnNJbm5lckFuZ2xlICsgZGl2aXNpb25zT3V0ZXJBbmdsZSAqIDI7CiAgICB2YXIgcG9zaXRpb25zID0gbmV3IEZsb2F0MzJBcnJheSgoZGl2aXNpb25zICogMyArIDMpICogMyk7CiAgICBnZW9tZXRyeS5zZXRBdHRyaWJ1dGUoJ3Bvc2l0aW9uJywgbmV3IFRIUkVFLkJ1ZmZlckF0dHJpYnV0ZShwb3NpdGlvbnMsIDMpKTsKICAgIHZhciBtYXRlcmlhbElubmVyQW5nbGUgPSBuZXcgVEhSRUUuTGluZUJhc2ljTWF0ZXJpYWwoewogICAgICBjb2xvcjogY29sb3JJbgogICAgfSk7CiAgICB2YXIgbWF0ZXJpYWxPdXRlckFuZ2xlID0gbmV3IFRIUkVFLkxpbmVCYXNpY01hdGVyaWFsKHsKICAgICAgY29sb3I6IGNvbG9yT3V0CiAgICB9KTsKICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZ2VvbWV0cnksIFttYXRlcmlhbE91dGVyQW5nbGUsIG1hdGVyaWFsSW5uZXJBbmdsZV0pOwogICAgX3RoaXMuYXVkaW8gPSBhdWRpbzsKICAgIF90aGlzLnJhbmdlID0gcmFuZ2U7CiAgICBfdGhpcy5kaXZpc2lvbnNJbm5lckFuZ2xlID0gZGl2aXNpb25zSW5uZXJBbmdsZTsKICAgIF90aGlzLmRpdmlzaW9uc091dGVyQW5nbGUgPSBkaXZpc2lvbnNPdXRlckFuZ2xlOwogICAgX3RoaXMudHlwZSA9ICdQb3NpdGlvbmFsQXVkaW9IZWxwZXInOwoKICAgIF90aGlzLnVwZGF0ZSgpOwoKICAgIHJldHVybiBfdGhpczsKICB9CgogIF9jcmVhdGVDbGFzcyhQb3NpdGlvbmFsQXVkaW9IZWxwZXIsIFt7CiAgICBrZXk6ICJ1cGRhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHsKICAgICAgdmFyIGF1ZGlvID0gdGhpcy5hdWRpbzsKICAgICAgdmFyIHJhbmdlID0gdGhpcy5yYW5nZTsKICAgICAgdmFyIGRpdmlzaW9uc0lubmVyQW5nbGUgPSB0aGlzLmRpdmlzaW9uc0lubmVyQW5nbGU7CiAgICAgIHZhciBkaXZpc2lvbnNPdXRlckFuZ2xlID0gdGhpcy5kaXZpc2lvbnNPdXRlckFuZ2xlOwogICAgICB2YXIgY29uZUlubmVyQW5nbGUgPSBUSFJFRS5NYXRoVXRpbHMuZGVnVG9SYWQoYXVkaW8ucGFubmVyLmNvbmVJbm5lckFuZ2xlKTsKICAgICAgdmFyIGNvbmVPdXRlckFuZ2xlID0gVEhSRUUuTWF0aFV0aWxzLmRlZ1RvUmFkKGF1ZGlvLnBhbm5lci5jb25lT3V0ZXJBbmdsZSk7CiAgICAgIHZhciBoYWxmQ29uZUlubmVyQW5nbGUgPSBjb25lSW5uZXJBbmdsZSAvIDI7CiAgICAgIHZhciBoYWxmQ29uZU91dGVyQW5nbGUgPSBjb25lT3V0ZXJBbmdsZSAvIDI7CiAgICAgIHZhciBzdGFydCA9IDA7CiAgICAgIHZhciBjb3VudCA9IDA7CiAgICAgIHZhciBpOwogICAgICB2YXIgc3RyaWRlOwogICAgICB2YXIgZ2VvbWV0cnkgPSB0aGlzLmdlb21ldHJ5OwogICAgICB2YXIgcG9zaXRpb25BdHRyaWJ1dGUgPSBnZW9tZXRyeS5hdHRyaWJ1dGVzLnBvc2l0aW9uOwogICAgICBnZW9tZXRyeS5jbGVhckdyb3VwcygpOyAvLwoKICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVTZWdtZW50KGZyb20sIHRvLCBkaXZpc2lvbnMsIG1hdGVyaWFsSW5kZXgpIHsKICAgICAgICB2YXIgc3RlcCA9ICh0byAtIGZyb20pIC8gZGl2aXNpb25zOwogICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLnNldFhZWihzdGFydCwgMCwgMCwgMCk7CiAgICAgICAgY291bnQrKzsKCiAgICAgICAgZm9yIChpID0gZnJvbTsgaSA8IHRvOyBpICs9IHN0ZXApIHsKICAgICAgICAgIHN0cmlkZSA9IHN0YXJ0ICsgY291bnQ7CiAgICAgICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5zZXRYWVooc3RyaWRlLCBNYXRoLnNpbihpKSAqIHJhbmdlLCAwLCBNYXRoLmNvcyhpKSAqIHJhbmdlKTsKICAgICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLnNldFhZWihzdHJpZGUgKyAxLCBNYXRoLnNpbihNYXRoLm1pbihpICsgc3RlcCwgdG8pKSAqIHJhbmdlLCAwLCBNYXRoLmNvcyhNYXRoLm1pbihpICsgc3RlcCwgdG8pKSAqIHJhbmdlKTsKICAgICAgICAgIHBvc2l0aW9uQXR0cmlidXRlLnNldFhZWihzdHJpZGUgKyAyLCAwLCAwLCAwKTsKICAgICAgICAgIGNvdW50ICs9IDM7CiAgICAgICAgfQoKICAgICAgICBnZW9tZXRyeS5hZGRHcm91cChzdGFydCwgY291bnQsIG1hdGVyaWFsSW5kZXgpOwogICAgICAgIHN0YXJ0ICs9IGNvdW50OwogICAgICAgIGNvdW50ID0gMDsKICAgICAgfSAvLwoKCiAgICAgIGdlbmVyYXRlU2VnbWVudCgtaGFsZkNvbmVPdXRlckFuZ2xlLCAtaGFsZkNvbmVJbm5lckFuZ2xlLCBkaXZpc2lvbnNPdXRlckFuZ2xlLCAwKTsKICAgICAgZ2VuZXJhdGVTZWdtZW50KC1oYWxmQ29uZUlubmVyQW5nbGUsIGhhbGZDb25lSW5uZXJBbmdsZSwgZGl2aXNpb25zSW5uZXJBbmdsZSwgMSk7CiAgICAgIGdlbmVyYXRlU2VnbWVudChoYWxmQ29uZUlubmVyQW5nbGUsIGhhbGZDb25lT3V0ZXJBbmdsZSwgZGl2aXNpb25zT3V0ZXJBbmdsZSwgMCk7IC8vCgogICAgICBwb3NpdGlvbkF0dHJpYnV0ZS5uZWVkc1VwZGF0ZSA9IHRydWU7CiAgICAgIGlmIChjb25lSW5uZXJBbmdsZSA9PT0gY29uZU91dGVyQW5nbGUpIHRoaXMubWF0ZXJpYWxbMF0udmlzaWJsZSA9IGZhbHNlOwogICAgfQogIH0sIHsKICAgIGtleTogImRpc3Bvc2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRpc3Bvc2UoKSB7CiAgICAgIHRoaXMuZ2VvbWV0cnkuZGlzcG9zZSgpOwogICAgICB0aGlzLm1hdGVyaWFsWzBdLmRpc3Bvc2UoKTsKICAgICAgdGhpcy5tYXRlcmlhbFsxXS5kaXNwb3NlKCk7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gUG9zaXRpb25hbEF1ZGlvSGVscGVyOwp9KFRIUkVFLkxpbmUpOwoKQUZSQU1FLnJlZ2lzdGVyQ29tcG9uZW50KCdzb3VuZC1jb250cm9sLXBvb2wnLCB7CiAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIGNvbnNvbGUubG9nKCdpbml0IGF1ZGlvQ29udHJvbCcpOwogICAgdGhpcy5nZXRDaGlsZHJlbigpOwogICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlLnRhcmdldCA9PSBlLmN1cnJlbnRUYXJnZXQpIF90aGlzMi5wbGF5Q2hpbGRyZW4oKTsKICAgIH0pOwogIH0sCiAgZ2V0Q2hpbGRyZW46IGZ1bmN0aW9uIGdldENoaWxkcmVuKCkgewogICAgdGhpcy5jaGlsZHJlbiA9IFtdOwoKICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmVsLmNoaWxkcmVuKSwKICAgICAgICBfc3RlcDsKCiAgICB0cnkgewogICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlOwogICAgICAgIHZhciBzb3VuZENvbnRyb2wgPSBjaGlsZC5jb21wb25lbnRzWydzb3VuZC1jb250cm9sJ107CiAgICAgICAgaWYgKHNvdW5kQ29udHJvbCkgdGhpcy5jaGlsZHJlbi5wdXNoKHNvdW5kQ29udHJvbCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgIH0KCiAgICBjb25zb2xlLmxvZygiY2giLCB0aGlzLmNoaWxkcmVuKTsKICB9LAogIHBsYXlDaGlsZHJlbjogZnVuY3Rpb24gcGxheUNoaWxkcmVuKCkgewogICAgdmFyIF9pdGVyYXRvcjIgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcih0aGlzLmNoaWxkcmVuKSwKICAgICAgICBfc3RlcDI7CgogICAgdHJ5IHsKICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgY2hpbGQucGxheVNvdW5kKCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfaXRlcmF0b3IyLmUoZXJyKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgfQogIH0KfSk7CkFGUkFNRS5yZWdpc3RlckNvbXBvbmVudCgnc291bmQtY29udHJvbCcsIHsKICBzY2hlbWE6IHsKICAgIC8vYWZyYW1lIHNvdW5kIGF0dHJpYnV0ZXMKICAgIGF1dG9wbGF5OiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IGZhbHNlCiAgICB9LAogICAgZGlzdGFuY2VNb2RlbDogewogICAgICAndHlwZSc6ICdzdHJpbmcnLAogICAgICAnZGVmYXVsdCc6ICdleHBvbmVudGlhbCcKICAgIH0sCiAgICBtYXhEaXN0YW5jZTogewogICAgICAndHlwZSc6ICdudW1iZXInLAogICAgICAnZGVmYXVsdCc6IDEwMDAwCiAgICB9LAogICAgbG9vcDogewogICAgICAndHlwZSc6ICdib29sZWFuJywKICAgICAgJ2RlZmF1bHQnOiBmYWxzZQogICAgfSwKICAgIHJlZkRpc3RhbmNlOiB7CiAgICAgICd0eXBlJzogJ251bWJlcicsCiAgICAgICdkZWZhdWx0JzogNDAKICAgIH0sCiAgICByb2xsb2ZmRmFjdG9yOiB7CiAgICAgICd0eXBlJzogJ251bWJlcicsCiAgICAgICdkZWZhdWx0JzogOAogICAgfSwKICAgIHNyYzogewogICAgICAndHlwZSc6ICdzdHJpbmcnLAogICAgICAnZGVmYXVsdCc6ICcnCiAgICB9LAogICAgdm9sdW1lOiB7CiAgICAgICd0eXBlJzogJ251bWJlcicsCiAgICAgICdkZWZhdWx0JzogMQogICAgfSwKICAgIC8vcG9zaXRpb25hbCBhdWRpbyBhdHRyaWJ1dGVzCiAgICBjb25lOiB7CiAgICAgICd0eXBlJzogJ2Jvb2xlYW4nLAogICAgICAnZGVmYXVsdCc6IGZhbHNlCiAgICB9LAogICAgY29uZUluQW5nbGU6IHsKICAgICAgJ3R5cGUnOiAnbnVtYmVyJywKICAgICAgJ2RlZmF1bHQnOiAxMAogICAgfSwKICAgIGNvbmVPdXRBbmdsZTogewogICAgICAndHlwZSc6ICdudW1iZXInLAogICAgICAnZGVmYXVsdCc6IDEwMAogICAgfSwKICAgIGNvbmVPdXRMZXZlbDogewogICAgICAndHlwZSc6ICdudW1iZXInLAogICAgICAnZGVmYXVsdCc6IDAKICAgIH0sCiAgICBwb3NIZWxwZXI6IHsKICAgICAgJ3R5cGUnOiAnYm9vbGVhbicsCiAgICAgICdkZWZhdWx0JzogZmFsc2UKICAgIH0sCiAgICBwb3NDb2xvckluOiB7CiAgICAgICd0eXBlJzogJ2NvbG9yJywKICAgICAgJ2RlZmF1bHQnOiAncmVkJwogICAgfSwKICAgIHBvc0NvbG9yT3V0OiB7CiAgICAgICd0eXBlJzogJ2NvbG9yJywKICAgICAgJ2RlZmF1bHQnOiAnZ3JlZW4nCiAgICB9CiAgfSwKICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgY29uc29sZS5sb2coJ2luaXQgc291bmQtY29udHJvbCcsIHRoaXMuZGF0YS5tYXhEaXN0YW5jZSk7IC8vYWRkIGFmcmFtZSBzb3VuZCBjb21wb25lbnQKCiAgICB0aGlzLmVsLnNldEF0dHJpYnV0ZSgnc291bmQnLCB7CiAgICAgIGF1dG9wbGF5OiB0aGlzLmRhdGEuYXV0b3BsYXksCiAgICAgIGRpc3RhbmNlTW9kZWw6IHRoaXMuZGF0YS5kaXN0YW5jZU1vZGVsLAogICAgICBsb29wOiB0aGlzLmRhdGEubG9vcCwKICAgICAgbWF4RGlzdGFuY2U6IHRoaXMuZGF0YS5tYXhEaXN0YW5jZSwKICAgICAgcmVmRGlzdGFuY2U6IHRoaXMuZGF0YS5yZWZEaXN0YW5jZSwKICAgICAgcm9sbG9mZkZhY3RvcjogdGhpcy5kYXRhLnJvbGxvZmZGYWN0b3IsCiAgICAgIHNyYzogdGhpcy5kYXRhLnNyYywKICAgICAgdm9sdW1lOiB0aGlzLmRhdGEudm9sdW1lCiAgICB9KTsKICAgIHRoaXMuc291bmQgPSB0aGlzLmVsLmNvbXBvbmVudHMuc291bmQ7IC8vZXZlbnQgbGlzdGVuZXJzCgogICAgdGhpcy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucGxheVNvdW5kLmJpbmQodGhpcykpOyAvL3Bvc2l0aW9uYWwgaGVscGVyCiAgICAvL2lmIChwb3NIZWxwZXIpIHsKICAgIC8vICAgIGNvbnN0IGhlbHBlciA9IG5ldyBQb3NpdGlvbmFsQXVkaW9IZWxwZXIoc291bmQsIChyZWZEaXN0YW5jZSAvIHJvbGxvZmYpICogMTAsIDEwLCAxMCwgcG9zQ29sb3JJbiwgcG9zQ29sb3JPdXQpOwogICAgLy8gICAgc291bmQuYWRkKGhlbHBlcik7CiAgICAvL30KCiAgICBjb25zb2xlLmxvZygic291bmQ6IiwgdGhpcy5zb3VuZC5wb29sLmNoaWxkcmVuWzBdKTsKICAgIHRoaXMucG9zaXRpb25hbEF1ZGlvID0gdGhpcy5zb3VuZC5wb29sLmNoaWxkcmVuWzBdOwogICAgdGhpcy5oZWxwZXIgPSBuZXcgUG9zaXRpb25hbEF1ZGlvSGVscGVyKHRoaXMucG9zaXRpb25hbEF1ZGlvLCB0aGlzLmRhdGEucmVmRGlzdGFuY2UgLyB0aGlzLmRhdGEucm9sbG9mZkZhY3RvciAqIDEwLCAxMCwgMTAsIHRoaXMuZGF0YS5wb3NDb2xvckluLCB0aGlzLmRhdGEucG9zQ29sb3JPdXQpOwogICAgdGhpcy5wb3NpdGlvbmFsQXVkaW8uYWRkKHRoaXMuaGVscGVyKTsKICB9LAogIHBsYXlTb3VuZDogZnVuY3Rpb24gcGxheVNvdW5kKCkgewogICAgY29uc29sZS5sb2coImNsaWNrIGNvbnRyb2wsICIsIHRoaXMuc291bmQpOwogICAgaWYgKCF0aGlzLnNvdW5kKSByZXR1cm47CiAgICB0aGlzLnNvdW5kLnN0b3BTb3VuZCgpOwogICAgdGhpcy5zb3VuZC5wbGF5U291bmQoKTsKICB9LAogIHN0b3BTb3VuZDogZnVuY3Rpb24gc3RvcFNvdW5kKCkgewogICAgdGhpcy5zb3VuZC5zdG9wU291bmQoKTsKICB9Cn0pOw=="},{"version":3,"sources":["/mnt/DOCUMENTS/DEV/aframe-dev/src/aframe_components/audio_components.js"],"names":["AFRAME","THREE","PositionalAudioHelper","audio","range","divisionsInnerAngle","divisionsOuterAngle","colorIn","colorOut","geometry","BufferGeometry","divisions","positions","Float32Array","setAttribute","BufferAttribute","materialInnerAngle","LineBasicMaterial","color","materialOuterAngle","type","update","coneInnerAngle","MathUtils","degToRad","panner","coneOuterAngle","halfConeInnerAngle","halfConeOuterAngle","start","count","i","stride","positionAttribute","attributes","position","clearGroups","generateSegment","from","to","materialIndex","step","setXYZ","Math","sin","cos","min","addGroup","needsUpdate","material","visible","dispose","Line","registerComponent","init","console","log","getChildren","el","addEventListener","e","target","currentTarget","playChildren","children","child","soundControl","components","push","playSound","schema","autoplay","distanceModel","maxDistance","loop","refDistance","rolloffFactor","src","volume","cone","coneInAngle","coneOutAngle","coneOutLevel","posHelper","posColorIn","posColorOut","data","sound","bind","pool","positionalAudio","helper","add","stopSound"],"mappings":"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","sourcesContent":["import AFRAME from \"aframe\";\nconst THREE = AFRAME.THREE;\n\nclass PositionalAudioHelper extends THREE.Line {\n\n    constructor(audio, range = 1, divisionsInnerAngle = 16, divisionsOuterAngle = 2, colorIn = 0x00ff00, colorOut = 0xffff00) {\n\n        const geometry = new THREE.BufferGeometry();\n        const divisions = divisionsInnerAngle + divisionsOuterAngle * 2;\n        const positions = new Float32Array((divisions * 3 + 3) * 3);\n        geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n\n        const materialInnerAngle = new THREE.LineBasicMaterial({ color: colorIn });\n        const materialOuterAngle = new THREE.LineBasicMaterial({ color: colorOut });\n\n        super(geometry, [materialOuterAngle, materialInnerAngle]);\n\n        this.audio = audio;\n        this.range = range;\n        this.divisionsInnerAngle = divisionsInnerAngle;\n        this.divisionsOuterAngle = divisionsOuterAngle;\n        this.type = 'PositionalAudioHelper';\n\n        this.update();\n\n    }\n\n    update() {\n\n        const audio = this.audio;\n        const range = this.range;\n        const divisionsInnerAngle = this.divisionsInnerAngle;\n        const divisionsOuterAngle = this.divisionsOuterAngle;\n\n        const coneInnerAngle = THREE.MathUtils.degToRad(audio.panner.coneInnerAngle);\n        const coneOuterAngle = THREE.MathUtils.degToRad(audio.panner.coneOuterAngle);\n\n        const halfConeInnerAngle = coneInnerAngle / 2;\n        const halfConeOuterAngle = coneOuterAngle / 2;\n\n        let start = 0;\n        let count = 0;\n        let i;\n        let stride;\n\n        const geometry = this.geometry;\n        const positionAttribute = geometry.attributes.position;\n\n        geometry.clearGroups();\n\n        //\n\n        function generateSegment(from, to, divisions, materialIndex) {\n\n            const step = (to - from) / divisions;\n\n            positionAttribute.setXYZ(start, 0, 0, 0);\n            count++;\n\n            for (i = from; i < to; i += step) {\n\n                stride = start + count;\n\n                positionAttribute.setXYZ(stride, Math.sin(i) * range, 0, Math.cos(i) * range);\n                positionAttribute.setXYZ(stride + 1, Math.sin(Math.min(i + step, to)) * range, 0, Math.cos(Math.min(i + step, to)) * range);\n                positionAttribute.setXYZ(stride + 2, 0, 0, 0);\n\n                count += 3;\n\n            }\n\n            geometry.addGroup(start, count, materialIndex);\n\n            start += count;\n            count = 0;\n\n        }\n\n        //\n\n        generateSegment(-halfConeOuterAngle, -halfConeInnerAngle, divisionsOuterAngle, 0);\n        generateSegment(-halfConeInnerAngle, halfConeInnerAngle, divisionsInnerAngle, 1);\n        generateSegment(halfConeInnerAngle, halfConeOuterAngle, divisionsOuterAngle, 0);\n\n        //\n\n        positionAttribute.needsUpdate = true;\n\n        if (coneInnerAngle === coneOuterAngle) this.material[0].visible = false;\n\n    }\n\n    dispose() {\n\n        this.geometry.dispose();\n        this.material[0].dispose();\n        this.material[1].dispose();\n\n    }\n\n}\n\n\nAFRAME.registerComponent('sound-control-pool', {\n    init: function() {\n        console.log('init audioControl');\n\n        this.getChildren();\n\n        this.el.addEventListener('click', (e) => {\n            if (e.target == e.currentTarget)\n                this.playChildren()\n        });\n    },\n\n    getChildren() {\n        this.children = [];\n\n        for (const child of this.el.children) {\n            const soundControl = child.components['sound-control'];\n            if (soundControl)\n                this.children.push(soundControl)\n        }\n\n        console.log(\"ch\", this.children)\n    },\n\n    playChildren: function() {\n\n        for (const child of this.children) {\n            child.playSound();\n        }\n    },\n\n});\n\n\n\n\nAFRAME.registerComponent('sound-control', {\n\n    schema: {\n\n        //aframe sound attributes\n        autoplay: { 'type': 'boolean', 'default': false },\n        distanceModel: { 'type': 'string', 'default': 'exponential' },\n        maxDistance: { 'type': 'number', 'default': 10000 },\n        loop: { 'type': 'boolean', 'default': false },\n        refDistance: { 'type': 'number', 'default': 40 },\n        rolloffFactor: { 'type': 'number', 'default': 8 },\n        src: { 'type': 'string', 'default': '' },\n        volume: { 'type': 'number', 'default': 1 },\n\n        //positional audio attributes\n        cone: { 'type': 'boolean', 'default': false },\n        coneInAngle: { 'type': 'number', 'default': 10 },\n        coneOutAngle: { 'type': 'number', 'default': 100 },\n        coneOutLevel: { 'type': 'number', 'default': 0 },\n        posHelper: { 'type': 'boolean', 'default': false },\n        posColorIn: { 'type': 'color', 'default': 'red' },\n        posColorOut: { 'type': 'color', 'default': 'green' }\n    },\n\n    init: function() {\n        console.log('init sound-control', this.data.maxDistance);\n\n        //add aframe sound component\n        this.el.setAttribute('sound', {\n\n            autoplay: this.data.autoplay,\n            distanceModel: this.data.distanceModel,\n            loop: this.data.loop,\n            maxDistance: this.data.maxDistance,\n            refDistance: this.data.refDistance,\n            rolloffFactor: this.data.rolloffFactor,\n            src: this.data.src,\n            volume: this.data.volume,\n        });\n        this.sound = this.el.components.sound;\n\n        //event listeners\n        this.el.addEventListener('click', this.playSound.bind(this));\n\n        //positional helper\n        //if (posHelper) {\n        //    const helper = new PositionalAudioHelper(sound, (refDistance / rolloff) * 10, 10, 10, posColorIn, posColorOut);\n        //    sound.add(helper);\n        //}\n\n        console.log(\"sound:\", this.sound.pool.children[0])\n        this.positionalAudio = this.sound.pool.children[0];\n        this.helper = new PositionalAudioHelper(this.positionalAudio, (this.data.refDistance / this.data.rolloffFactor) * 10, 10, 10, this.data.posColorIn, this.data.posColorOut);\n\n        this.positionalAudio.add(this.helper);\n    },\n\n    playSound: function() {\n        console.log(\"click control, \", this.sound)\n        if (!this.sound)\n            return;\n\n        this.sound.stopSound();\n        this.sound.playSound();\n    },\n\n    stopSound: function() {\n        this.sound.stopSound();\n    }\n});"]}]}